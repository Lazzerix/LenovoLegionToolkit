<wpfui:UiPage
    x:Class="LenovoLegionToolkit.WPF.Pages.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:resources="clr-namespace:LenovoLegionToolkit.WPF.Resources"
    xmlns:utils="clr-namespace:LenovoLegionToolkit.WPF.Utils"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="{x:Static resources:Resource.SettingsPage_Title}"
    FlowDirection="{x:Static utils:LocalizationHelper.Direction}"
    Scrollable="False">
    <wpfui:UiPage.Resources>
        <Storyboard x:Key="ContentTransitionAnimation">
            <DoubleAnimation
                Storyboard.TargetName="_contentControl"
                Storyboard.TargetProperty="Opacity"
                From="0" To="1"
                Duration="0:0:0.2" />
            <DoubleAnimation
                Storyboard.TargetName="_contentControl"
                Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)"
                From="12" To="0"
                Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut" />
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </wpfui:UiPage.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <TextBlock
            Grid.Row="0"
            Grid.Column="0"
            Grid.ColumnSpan="2"
            Margin="0,16,0,24"
            AutomationProperties.Name="{Binding RelativeSource={RelativeSource Mode=Self}, Path=Text}"
            Focusable="True"
            FontSize="24"
            FontWeight="Medium"
            Text="{x:Static resources:Resource.SettingsPage_Title}" />

        <Border
            Grid.Row="1"
            Grid.Column="0"
            Background="Transparent"
            BorderBrush="Transparent"
            BorderThickness="0">
            <ListBox
                x:Name="_navigationListBox"
                Margin="0,0,8,0"
                Background="Transparent"
                BorderThickness="0"
                SelectionChanged="NavigationListBox_SelectionChanged">
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ListBoxItem">
                                    <Grid Margin="0,1">
                                        <Border
                                            x:Name="BackgroundBorder"
                                            Background="Transparent"
                                            CornerRadius="4"
                                            Padding="4,8">
                                            <ContentPresenter />
                                        </Border>
                                        <Rectangle
                                            x:Name="ActiveIndicator"
                                            Width="3"
                                            Height="16"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            RadiusX="2"
                                            RadiusY="2"
                                            Visibility="Collapsed">
                                            <Rectangle.Fill>
                                                <SolidColorBrush Color="{DynamicResource SystemAccentColorSecondary}" />
                                            </Rectangle.Fill>
                                        </Rectangle>
                                    </Grid>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="BackgroundBorder" Property="Background" Value="{DynamicResource SubtleFillColorSecondaryBrush}" />
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="BackgroundBorder" Property="Background" Value="{DynamicResource SubtleFillColorSecondaryBrush}" />
                                            <Setter TargetName="ActiveIndicator" Property="Visibility" Value="Visible" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ListBox.ItemContainerStyle>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Margin="4,6">
                            <wpfui:SymbolIcon Symbol="{Binding Icon}" FontSize="16" Margin="0,0,10,0" />
                            <TextBlock Text="{Binding Title}" VerticalAlignment="Center" FontSize="13" />
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>

        <ContentControl
            x:Name="_contentControl"
            Grid.Row="1"
            Grid.Column="1"
            Margin="16,0,0,0">
            <ContentControl.RenderTransform>
                <TranslateTransform />
            </ContentControl.RenderTransform>
        </ContentControl>
    </Grid>
</wpfui:UiPage>